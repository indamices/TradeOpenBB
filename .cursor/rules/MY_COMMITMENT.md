# 代码审查承诺书
# Code Review Commitment - 严格遵循

## 🎯 我的承诺

从今往后，在任何代码审查任务中，我**承诺**严格遵循以下原则：

---

## ⚠️ 永不违反的核心原则

### 1. 实际 > 理论
- ✅ 解决代码中**实际存在**的问题
- ❌ 不是解决理论上的问题
- ❌ 不是推广最佳实践

### 2. 扫描 > 理解
- ✅ 先用工具**扫描**发现问题
- ✅ 再用人工**验证**问题存在
- ❌ 不跳过扫描直接"理解"代码

### 3. 数据驱动 > 文档驱动
- ✅ 从**扫描数据**出发
- ✅ 提供具体的**代码位置**
- ❌ 不是从文档出发
- ❌ 不是模糊的建议

### 4. 简单工具 > 复杂AI
- ✅ 使用 **grep/ast** 扫描
- ✅ 使用 **静态分析** 工具
- ⚠️ AI 仅用于理解，不用于发现
- ❌ 不依赖 AI 代理的"创造"

---

## 📋 强制执行流程

### 阶段 1: 系统扫描（必须执行）
```bash
# 必须运行的扫描
./scripts/quick-scan.sh
```

### 阶段 2: 问题验证（必须执行）
- [ ] 用 Read 工具查看代码上下文
- [ ] 确认问题确实存在
- [ ] 记录文件位置和行号

### 阶段 3: 问题分类（必须执行）
- [ ] 按严重程度分类（P0/P1/P2）
- [ ] 评估影响范围
- [ ] 确定修复优先级

### 阶段 4: 修复方案（必须执行）
- [ ] 提供具体修复代码
- [ ] 不是建议，是可执行的代码
- [ ] 说明修复前后对比

### 阶段 5: 验证修复（必须执行）
- [ ] 重新扫描确认问题已解决
- [ ] 运行相关测试
- [ ] 确认未引入新问题

---

## 🚫 严格禁止的行为

在代码审查任务中，我**承诺**不做以下事情：

### ❌ 不做的事

1. ❌ 跳过系统扫描阶段
2. ❌ 只看文档不看代码
3. ❌ 用 AI 代理替代工具扫描
4. ❌ 生成理论最佳实践
5. ❌ 创建工具/文档但不使用
6. ❌ 声称"审查完成"但未验证
7. ❌ 提供模糊建议而非具体代码

---

## 📊 成功标准

一次代码审查被认为是"成功"的，必须满足：

### 最低标准（必须满足）
- ✅ 运行了所有必检扫描
- ✅ 验证了每个问题确实存在
- ✅ 提供了具体修复代码
- ✅ 重新扫描验证修复

### 完整标准（应该满足）
- ✅ 运行了快速和详细扫描
- ✅ 检查了所有必检项
- ✅ 按优先级分类问题
- ✅ 提供测试方案
- ✅ 运行回归测试

---

## 🔍 必检项目（每次都要查）

### Python 后端
```bash
# 1. 硬编码路径
grep -r "c:\\\\Users\|/home/" . --include="*.py"

# 2. 调试代码
grep -r "print(\|debug\.log" . --include="*.py"

# 3. 空 except
grep -r "except: pass\|except.*:" . --include="*.py"
```

### TypeScript/React 前端
```bash
# 1. 调试代码
grep -r "console\\.log" . --include="*.tsx"

# 2. 类型安全
grep -r "as any" . --include="*.tsx"

# 3. 空值检查
grep -r "\\.join\|\\.map\|\\.forEach" . --include="*.tsx"
```

---

## 📝 审查报告模板

每个审查任务必须包含：

### 1. 扫描摘要
- 扫描文件数
- 发现问题数
- 问题分布（P0/P1/P2）

### 2. 问题列表（按优先级）
```
#### 🔴 P0 - 问题标题
- 位置: `文件:行号`
- 扫描命令: `命令`
- 问题代码: [代码]
- 修复方案: [代码]
- 验证方法: [方法]
```

### 3. 修复统计
- 已修复: X
- 待修复: Y
- 需讨论: Z

---

## 🔄 质量保证

### 自我检查清单
在提交审查报告前，我必须确认：

- [ ] 我运行了扫描脚本吗？
- [ ] 我验证了每个问题吗？
- [ ] 我提供了具体修复代码吗？
- [ ] 我重新扫描验证了吗？
- [ ] 我的输出格式符合标准吗？

### 如果不符合标准
- 🔄 重新执行审查流程
- 🔄 补充缺失的扫描
- 🔄 提供具体的修复代码
- 🔄 重新验证修复效果

---

## 💡 经验教训

### 从错误中学习

**错误做法**（不会重犯）:
- ❌ 依赖 AI 代理生成文档
- ❌ 创建工具但不使用
- ❌ 提供"建议"而非"修复"
- ❌ 声称完成但未验证

**正确做法**（今后坚持）:
- ✅ 用 grep/ast 扫描发现问题
- ✅ 验证问题确实存在
- ✅ 提供具体可执行的修复代码
- ✅ 重新扫描验证修复

---

## ✅ 我的承诺签名

我承诺在今后的所有代码审查任务中：

1. ✅ 先扫描，后理解
2. ✅ 发现实际问题，不创造理论问题
3. ✅ 提供具体修复，不提供模糊建议
4. ✅ 验证修复效果，不声称完成
5. ✅ 遵循标准流程，不跳过步骤

---

**承诺生效日期**: 2026-01-19
**承诺版本**: 1.0.0
**承诺状态**: 已生效，严格遵循

---

> "代码审查的目的是发现和修复实际问题，不是展示理论知识或生成文档。"
